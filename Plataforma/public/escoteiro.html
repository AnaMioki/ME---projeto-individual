<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/menuLateral.css">
    <link rel="stylesheet" href="./style/escoteiro.css">
    <title>Scout Ease</title>
</head>

<body>
    <section class="pagina">
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <img src="./assets/logo.png" alt="Logo Scout Ease" class="logo-img">
            </div>

            <button class="toggle-btn" onclick="alternarMenu()">
                <img src="./assets/iconMenu.png" alt="" width="30px">
                <span class="label">Menu</span>
            </button>

            <ul class="menu-opcoes">
                <li>
                    <img src="./assets/iconHome.png" alt="" width="30px">
                    <a href="./home.html"><span class="label">Inicio | Dashboards</span></a>
                </li>
                <li>
                    <img src="./assets/iconEscoteiro.png" alt="" width="30px">
                    <a href="./mensalidades.html"><span class="label">Mensalidades</span></a>
                </li>
                <li>
                    <img src="./assets/iconConfig.png" alt="" width="30px">
                    <a href="./configuracoes.html"><span class="label">Configurações</span></a>
                </li>
            </ul>

            <div class="botao-sair">
                <img src="./assets/iconSair.png" alt="" width="30px">
                <a href="./index.html"><span class="label">Sair</span></a>
            </div>
        </div>
        <div class="escoteiro">
            <div class="card">
                <header class="header">
                    <div class="topo">
                        <a href="./mensalidades.html"> <img src="./assets/iconSeta.png" alt="" width="20px"></a>
                       
                    </div>

                    <img src="./assets/iconEscoteiropersona.png" alt="Ícone Escoteiro" width="200px" class="icon">
                    <div class="info">
                        
                    </div>
                    <div class="info">
                        <div class="name">
                               <h1 class="title" id="nome">${escoteiro.nome}</h1>
                    <img src="./assets/iconEditar.png" width="24px">
                        </div>
                     
                    <div class="contentUser">
                        <span id="ramo">${ramo}</span>
                        <span id="registro">${22222}</span>
                        <span id="celular">${11972781117}</span>
                    </div>
                    </div>
                     <img id="botaoExcluir" src="./assets/iconExcluir.png" alt="">
                </header>
                <div class="status">
                    <div class="statusMensalidade">
                        <p>Status Mensalidade Atual</p>
                        <span>${10 dias} Em atraso</span>
                    </div>
                    <div class="dtVencimento">
                        <p>Data de vencimento</p>
                        <span>10/05/2025</span>
                    </div>
                    <!-- <div class="dtPagamento">
                        <p>Data do pagamento</p>
                        <span>xx/xx/xxxx</span>
                    </div> -->
                    <div class="botao">
                        <button>Registrar pagamento em: ${10/04}</button>
                    </div>

                </div>

                <hr>
                <div class="mesesAnteriores">
                    <p id="TitulomesesAnteriores">Meses Anteriores</p>
                    <div class="moldeMes">
                        <div class="mesAno">
                            <p>Mês/Ano</p>
                            <span>ssss</span>
                        </div>
                        <div class="statusmes">
                            <p>Status</p>
                            <span>Em atraso</span>
                        </div>
                        <div class="dtPagamento">
                            <p>Data do pagamento</p>
                            <span>xx/xx/xxxx</span>
                        </div>
                    </div>
                    <div class="moldeNenhum">
                        <p>Ainda não há Registros de meses passados...</p>
                    </div>
                </div>
            </div>
        </div>

    </section>
</body>

</html>
<script>
    function alternarMenu() {
        const barraLateral = document.getElementById("sidebar");
        barraLateral.classList.toggle("expandido");
    }

    window.onload = () => {
        const dados = JSON.parse(sessionStorage.getItem("DETALHES_ESCOTEIRO"));

        if (!dados) {
            alert("Erro ao carregar os dados do escoteiro.");
            window.location.href = "./mensalidades.html";
            return;
        }

        // Preencher dados básicos
        document.getElementById("nome").textContent = dados.nome;
        document.getElementById("ramo").textContent = dados.ramo;
        document.getElementById("registro").textContent = dados.registro;
        document.getElementById("celular").textContent = dados.celular;

        // Status atual
        document.getElementById("statusAtual").textContent = dados.statusAtual || "Sem info";
        document.getElementById("dataVencimento").textContent = dados.dataVencimento || "Não informada";

        // Botão de pagamento
        if (dados.dataRegistrarPagamento) {
            document.getElementById("btnPagamento").textContent =
                `Registrar pagamento em: ${dados.dataRegistrarPagamento}`;
        }

        // Meses anteriores
        const listaMeses = document.getElementById("listaMesesAnteriores");
        if (dados.mensalidadesAnteriores && dados.mensalidadesAnteriores.length > 0) {
            listaMeses.innerHTML = "";
            dados.mensalidadesAnteriores.forEach(m => {
                listaMeses.innerHTML += `
                    <div class="moldeMes">
                        <div class="mesAno">
                            <p>Mês/Ano</p>
                            <span>${m.mes}/${m.ano}</span>
                        </div>
                        <div class="statusmes">
                            <p>Status</p>
                            <span>${m.status}</span>
                        </div>
                        <div class="dtPagamento">
                            <p>Data do pagamento</p>
                            <span>${m.dataPagamento || "Sem pagamento"}</span>
                        </div>
                    </div>
                `;
            });
        } else {
            listaMeses.innerHTML = `
                <div class="moldeNenhum">
                    <p>Ainda não há Registros de meses passados...</p>
                </div>
            `;
        }
    };

</script>